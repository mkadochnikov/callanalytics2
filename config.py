#!/usr/bin/env python3
"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ –∑–≤–æ–Ω–∫–æ–≤ Bitrix24
–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –¥–ª—è —Å–∞–Ω–∞—Ç–æ—Ä–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞
"""

import os
import json
import hashlib
import requests
import datetime
import pytz
from pathlib import Path
from typing import List, Dict, Optional, Tuple
import logging
from bs4 import BeautifulSoup
import streamlit as st
import pandas as pd
import plotly.express as px
import whisper
import torch
from transformers import pipeline, AutoTokenizer, AutoModelForSequenceClassification
import re

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
PORTAL_TIMEZONE = 'Europe/Moscow'
WHISPER_MODEL_SIZE = "medium"

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –∑–≤–æ–Ω–∫–æ–≤ –¥–ª—è —Å–∞–Ω–∞—Ç–æ—Ä–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞
CALL_TOPICS = {
    "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ": ["–±—Ä–æ–Ω—å", "–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å", "–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å", "–Ω–æ–º–µ—Ä —Å–≤–æ–±–æ–¥–µ–Ω", "–µ—Å—Ç—å –º–µ—Å—Ç–∞", "–∑–∞–µ—Ö–∞—Ç—å", "–ø—Ä–∏–µ—Ö–∞—Ç—å"],
    "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω–∞—Ö": ["—Å—Ç–æ–∏–º–æ—Å—Ç—å", "—Ü–µ–Ω–∞", "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç", "—Ç–∞—Ä–∏—Ñ", "–ø—Ä–∞–π—Å", "–æ–ø–ª–∞—Ç–∞", "—Å–∫–∏–¥–∫–∞", "–∞–∫—Ü–∏—è"],
    "–£—Å–ª–æ–≤–∏—è –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è": ["–ø–∏—Ç–∞–Ω–∏–µ", "–Ω–æ–º–µ—Ä", "—É–¥–æ–±—Å—Ç–≤–∞", "—á—Ç–æ –≤—Ö–æ–¥–∏—Ç", "–≤–∫–ª—é—á–µ–Ω–æ", "—à–≤–µ–¥—Å–∫–∏–π —Å—Ç–æ–ª", "–¥–∏–µ—Ç–∏—á–µ—Å–∫–æ–µ", "–±–∞–ª–∫–æ–Ω"],
    "–õ–µ—á–µ–±–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã": ["–ª–µ—á–µ–Ω–∏–µ", "–ø—Ä–æ—Ü–µ–¥—É—Ä—ã", "–≤—Ä–∞—á", "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "–ø—Ä–æ—Ñ–∏–ª—å", "—Å–∞–Ω–∞—Ç–æ—Ä–Ω–æ-–∫—É—Ä–æ—Ä—Ç–Ω–æ–µ", "–º–∞—Å—Å–∞–∂", "–≤–∞–Ω–Ω—ã"],
    "–î–∞—Ç—ã –∏ –Ω–∞–ª–∏—á–∏–µ": ["—Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã", "–∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ", "–Ω–∞–ª–∏—á–∏–µ", "–æ–∫—Ç—è–±—Ä—å", "–Ω–æ—è–±—Ä—å", "—Å–µ–Ω—Ç—è–±—Ä—å", "–Ω–æ–≤—ã–π –≥–æ–¥"],
    "–û–ø–ª–∞—Ç–∞ –∏ —Å—á–µ—Ç–∞": ["–æ–ø–ª–∞—Ç–∏—Ç—å", "—Å—á–µ—Ç", "–ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞", "—Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã", "—Ä–∞—Å—Å—Ä–æ—á–∫–∞", "–≤–Ω–µ—Å—Ç–∏", "–¥–æ–ø–ª–∞—Ç–∏—Ç—å"],
    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –±—Ä–æ–Ω–∏": ["–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏", "–∏–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—ã", "–æ—Ç–º–µ–Ω–∏—Ç—å", "–ø–æ–º–µ–Ω—è—Ç—å –Ω–æ–º–µ—Ä", "–¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä"],
    "–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∏ –¥–æ—Ä–æ–≥–∞": ["–∫–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è", "—Ç—Ä–∞–Ω—Å—Ñ–µ—Ä", "–≤—Å—Ç—Ä–µ—á–∞", "–∞—ç—Ä–æ–ø–æ—Ä—Ç", "–¥–æ—Ä–æ–≥–∞", "–º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–æ–¥—ã"],
    "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è": ["–≤–æ–ø—Ä–æ—Å", "—Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ", "–æ–±—ä—è—Å–Ω–∏—Ç–µ", "–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", "—É—Ç–æ—á–Ω–∏—Ç—å", "—É–∑–Ω–∞—Ç—å", "–ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ"],
    "–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞": ["–ø—Ä–æ–±–ª–µ–º–∞", "–æ—à–∏–±–∫–∞", "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç", "–Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è", "–ø–æ–º–æ—â—å", "–Ω–µ –º–æ–≥—É"],
    "–ñ–∞–ª–æ–±–∞": ["–∂–∞–ª–æ–±–∞", "–Ω–µ–¥–æ–≤–æ–ª–µ–Ω", "–ø–ª–æ—Ö–æ", "—É–∂–∞—Å–Ω–æ", "–≤–æ–∑–≤—Ä–∞—Ç", "–ø—Ä–µ—Ç–µ–Ω–∑–∏—è", "–Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ"],
    "–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ": ["–ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ", "—Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ", "–∞–≥–µ–Ω—Ç—Å—Ç–≤–æ", "—Ç—É—Ä–∞–≥–µ–Ω—Ç—Å—Ç–≤–æ", "–∫–æ–º–∏—Å—Å–∏—è"],
    "–•–æ–ª–æ–¥–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏": ["–ø—Ä–µ–¥–ª–∞–≥–∞–µ–º", "–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ", "–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é –∫–æ–º–ø–∞–Ω–∏—é", "–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã –ª–∏"],
    "–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ": ["–∑–≤–æ–Ω–∏–ª —Ä–∞–Ω–µ–µ", "–æ–±–µ—â–∞–ª–∏", "–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å", "–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ", "–≤—á–µ—Ä–∞ –∑–≤–æ–Ω–∏–ª–∞"]
}

# –†–ê–°–®–ò–†–ï–ù–ù–´–ï –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Å–∞–Ω–∞—Ç–æ—Ä–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞
OBJECTION_CATEGORIES = {
    "üí∞ –í—ã—Å–æ–∫–∞—è —Ü–µ–Ω–∞": {
        "recommendation": "–ü–æ–∫–∞–∑–∞—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å: –ª–µ—á–µ–Ω–∏–µ + –æ—Ç–¥—ã—Ö + –ø–∏—Ç–∞–Ω–∏–µ. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∞–∫—Ü–∏–∏ –∏ —Ä–∞—Å—Å—Ä–æ—á–∫—É",
        "keywords": [
            "–¥–æ—Ä–æ–≥–æ", "—Ü–µ–Ω–∞ –≤—ã—Å–æ–∫–∞—è", "–º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥", "–Ω–µ –ø–æ –∫–∞—Ä–º–∞–Ω—É", "–¥–µ—à–µ–≤–ª–µ",
            "—Å–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ", "—Ü–µ–Ω–∞ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç", "–±—é–¥–∂–µ—Ç –º–µ–Ω—å—à–µ", "–¥–æ—Ä–æ–≥–æ–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ",
            "–Ω–µ –º–æ–∂–µ–º —Å–µ–±–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å", "–ø—Ä–µ–≤—ã—à–∞–µ—Ç –±—é–¥–∂–µ—Ç", "—Å–ª–∏—à–∫–æ–º –∑–∞—Ç—Ä–∞—Ç–Ω–æ",
            "200 —Ç—ã—Å—è—á –∑–∞ –∫–∏—Å–ª–æ–≤–æ–¥—Å–∫", "–¥–æ—Ä–æ–≥–æ–≤–∞—Ç–æ", "–Ω–∞ –º–∞–ª—å–¥–∏–≤—ã –¥–µ—à–µ–≤–ª–µ"
        ]
    },
    "‚è∞ –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å–µ–π—á–∞—Å": {
        "recommendation": "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–¥–æ–±–Ω—ã–µ –¥–∞—Ç—ã, —Ä–∞–Ω–Ω–µ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ —Å–∫–∏–¥–∫–æ–π",
        "keywords": [
            "–≤—Ä–µ–º–µ–Ω–∏ –Ω–µ—Ç", "–Ω–µ–∫–æ–≥–¥–∞", "–∑–∞–Ω—è—Ç", "–ø–æ–∑–∂–µ –ø–æ–∑–≤–æ–Ω—é", "–Ω–µ —Å–µ–π—á–∞—Å",
            "–≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑", "–Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å", "–æ—á–µ–Ω—å –∑–∞–Ω—è—Ç", "–∑–∞–≤–∞–ª–µ–Ω —Ä–∞–±–æ—Ç–æ–π",
            "–ø–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –ø–æ–∑–∂–µ", "—Å–µ–π—á–∞—Å –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–æ–º–µ–Ω—Ç", "–ø–æ—Ç–æ–º —Ä–µ—à–∏–º"
        ]
    },
    "üè® –£–∂–µ –µ—Å—Ç—å —Å–∞–Ω–∞—Ç–æ—Ä–∏–π": {
        "recommendation": "–í—ã—è—Å–Ω–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞",
        "keywords": [
            "—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å", "–µ—Å—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫", "–¥—Ä—É–≥–∞—è –∫–æ–º–ø–∞–Ω–∏—è", "—É–∂–µ –∑–∞–∫–ª—é—á–µ–Ω –¥–æ–≥–æ–≤–æ—Ä",
            "–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–æ—Å—Ç–∞–≤—â–∏–∫", "—Ä–∞–±–æ—Ç–∞–µ–º —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏", "–µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞",
            "—É–∂–µ –≤—ã–±—Ä–∞–ª–∏", "–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å —Å –¥—Ä—É–≥–∏–º–∏", "–≤ –¥—Ä—É–≥–æ–π —Å–∞–Ω–∞—Ç–æ—Ä–∏–π",
            "–ø–∏–∫–µ—Ç", "–≤–∏–∫—Ç–æ—Ä–∏—è", "–ø–ª–∞–∑–∞"
        ]
    },
    "üè• –õ–µ—á–µ–Ω–∏–µ –Ω–µ –Ω—É–∂–Ω–æ": {
        "recommendation": "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ—Ç–¥—ã—Ö–∞ –±–µ–∑ –ª–µ—á–µ–Ω–∏—è, wellness-–ø—Ä–æ–≥—Ä–∞–º–º—ã",
        "keywords": [
            "–Ω–µ –Ω—É–∂–Ω–æ –ª–µ—á–µ–Ω–∏–µ", "—Ç–æ–ª—å–∫–æ –æ—Ç–¥—ã—Ö", "–±–µ–∑ –ø—Ä–æ—Ü–µ–¥—É—Ä", "–ø—Ä–æ—Å—Ç–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å",
            "–±–µ–∑ –ª–µ—á–µ–Ω–∏—è", "–æ—Ç–¥—ã—Ö –±–µ–∑ –ª–µ—á–µ–Ω–∏—è", "–Ω–µ —Ö–æ—Ç–∏–º –ª–µ—á–∏—Ç—å—Å—è",
            "–∑–¥–æ—Ä–æ–≤—ã–µ", "–Ω–µ –±–æ–ª–µ–µ–º"
        ]
    },
    "üìÖ –ù–µ—É–¥–æ–±–Ω—ã–µ –¥–∞—Ç—ã": {
        "recommendation": "–ü–æ–∫–∞–∑–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –¥–∞—Ç—ã, –≥–∏–±–∫–∏–µ —É—Å–ª–æ–≤–∏—è –∑–∞–µ–∑–¥–∞",
        "keywords": [
            "–¥–∞—Ç—ã –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç", "–≤ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è", "–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞", "–Ω–µ –º–æ–∂–µ–º –≤ —ç—Ç–∏ —á–∏—Å–ª–∞",
            "–Ω–µ—É–¥–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥", "–ø–µ—Ä–µ–ª–µ—Ç –Ω–µ—É–¥–æ–±–Ω—ã–π", "–Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–∞—Ç—ã",
            "–≤ –¥—Ä—É–≥–∏–µ –¥–∞—Ç—ã", "–ø–æ–∑–∂–µ –ø–æ–µ–¥–µ–º"
        ]
    },
    "üë• –ù—É–∂–Ω–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å": {
        "recommendation": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è, –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç",
        "keywords": [
            "–æ–±–≥–æ–≤–æ—Ä—é —Å –º—É–∂–µ–º", "–ø–æ—Å–æ–≤–µ—Ç—É—é—Å—å —Å —Å–µ–º—å–µ–π", "–Ω–∞–¥–æ –æ–±—Å—É–¥–∏—Ç—å –¥–æ–º–∞",
            "—Å–ø—Ä–æ—à—É —É –∂–µ–Ω—ã", "—Å–µ–º—å—è –¥–æ–ª–∂–Ω–∞ –æ–¥–æ–±—Ä–∏—Ç—å", "–ø–æ–≥–æ–≤–æ—Ä—é —Å –º—É–∂–µ–º",
            "–æ–±—Å—É–∂—É —Å", "–Ω—É–∂–Ω–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å", "–Ω–µ —è —Ä–µ—à–∞—é"
        ]
    },
    "üè• –°–æ–º–Ω–µ–Ω–∏—è –≤ –º–µ–¥–±–∞–∑–µ": {
        "recommendation": "–î–µ—Ç–∞–ª—å–Ω–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –≤—Ä–∞—á–∞—Ö, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏, –ª–∏—Ü–µ–Ω–∑–∏—è—Ö",
        "keywords": [
            "–µ—Å—Ç—å –ª–∏ –≤—Ä–∞—á", "–∫–∞–∫–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã", "—á—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –ª–µ—á–µ–Ω–∏–µ",
            "–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –±–∞–∑–∞", "–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Ä–∞—á–µ–π", "–ø–æ –æ—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥–∏–∏",
            "–ø–æ —É—Ä–æ–ª–æ–≥–∏–∏", "–∫–∞–∫–∏–µ –≤—Ä–∞—á–∏", "–∫–∞–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"
        ]
    },
    "‚úàÔ∏è –î–∞–ª–µ–∫–æ –µ—Ö–∞—Ç—å": {
        "recommendation": "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä, –ø–æ–º–æ—â—å —Å –±–∏–ª–µ—Ç–∞–º–∏, –ø–æ–∫–∞–∑–∞—Ç—å —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è",
        "keywords": [
            "–¥–∞–ª–µ–∫–æ –µ—Ö–∞—Ç—å", "–Ω–µ—É–¥–æ–±–Ω—ã–π –ø–µ—Ä–µ–ª–µ—Ç", "—Å–ª–æ–∂–Ω–æ –¥–æ–±–∏—Ä–∞—Ç—å—Å—è",
            "–Ω–µ—Ç –ø—Ä—è–º—ã—Ö —Ä–µ–π—Å–æ–≤", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–æ—Ä–æ–≥–æ–π", "–∫–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è",
            "–¥–∞–ª–µ–∫–æ –æ—Ç", "–Ω–µ—É–¥–æ–±–Ω–æ –¥–æ–±–∏—Ä–∞—Ç—å—Å—è"
        ]
    },
    "üè® –£—Å–ª–æ–≤–∏—è –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç": {
        "recommendation": "–í—ã—è—Å–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã",
        "keywords": [
            "–Ω–æ–º–µ—Ä –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç", "–Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä", "—Ö–æ—á—É —Å –±–∞–ª–∫–æ–Ω–æ–º",
            "–Ω—É–∂–Ω–∞ –¥—Ä—É–≥–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è", "–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ", "—É—Å–ª–æ–≤–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç",
            "–Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç —É—Å–ª–æ–≤–∏—è", "–¥—Ä—É–≥–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è", "–¥–µ–ª—é–∫—Å –¥–æ—Ä–æ–≥–æ"
        ]
    },
    "ü§î –ù—É–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å": {
        "recommendation": "–°–æ–∑–¥–∞—Ç—å —Å—Ä–æ—á–Ω–æ—Å—Ç—å: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–º–µ—Ä–∞",
        "keywords": [
            "–ø–æ–¥—É–º–∞—Ç—å", "–ø–æ–¥—É–º–∞–µ–º", "–ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å—Å—è", "–æ–±—Å—É–¥–∏—Ç—å", "–ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ",
            "—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º", "–∏–∑—É—á–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "—è –ø–æ–¥—É–º–∞—é", "–º—ã –ø–æ–¥—É–º–∞–µ–º",
            "–Ω–∞–¥–æ –ø–æ–¥—É–º–∞—Ç—å", "–≤—Ä–µ–º—è –Ω–∞ —Ä–∞–∑–¥—É–º—å–µ"
        ]
    },
    "üèñÔ∏è –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç –º–æ—Ä–µ": {
        "recommendation": "–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–æ—Ä–Ω–æ–≥–æ –∫–ª–∏–º–∞—Ç–∞, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã—Ö –≤–æ–¥",
        "keywords": [
            "–Ω–∞ –º–æ—Ä–µ", "—Ö–æ—Ç–∏–º –Ω–∞ –º–æ—Ä–µ", "–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º –º–æ—Ä–µ", "–ª—É—á—à–µ –º–æ—Ä–µ",
            "–≤–º–µ—Å—Ç–æ –º–æ—Ä—è", "–Ω–µ –≥–æ—Ä—ã –∞ –º–æ—Ä–µ", "–º–æ—Ä—Å–∫–æ–π –∫—É—Ä–æ—Ä—Ç"
        ]
    },
    "üì± –ü—Ä–∏—à–ª–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é": {
        "recommendation": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Å—Ä–∞–∑—É –Ω–∞–∑–Ω–∞—á–∏—Ç—å –≤—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞",
        "keywords": [
            "–ø—Ä–∏—à–ª–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é", "–æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "—Å–∫–∏–Ω—å—Ç–µ –Ω–∞ –ø–æ—á—Ç—É",
            "–Ω–∞–ø—Ä–∞–≤—å—Ç–µ —Ä–∞—Å—á–µ—Ç", "–∂–¥–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "–≤—ã—à–ª–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã",
            "–æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ whatsapp", "–Ω–∞ email"
        ]
    }
}

# –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∑–≤–æ–Ω–∫–∞
CALL_SUCCESS_PATTERNS = {
    "success": [
        "–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª–∏", "–æ—Ñ–æ—Ä–º–∏–ª–∏", "–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å", "–∂–¥—É –≤–∞—Å",
        "–¥–æ –≤—Å—Ç—Ä–µ—á–∏", "–æ–ø–ª–∞—Ç–∏–ª", "–≤–Ω–µ—Å–ª–∏ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—É", "—Å—á–µ—Ç –≤—ã—Å—Ç–∞–≤–ª–µ–Ω",
        "–ø—Ä–∏–µ–¥–µ–º", "–±–µ—Ä–µ–º", "–ø–æ–¥—Ö–æ–¥–∏—Ç —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç", "–æ—Ç–ª–∏—á–Ω–æ –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å"
    ],
    "failure": [
        "–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ", "—Ç–æ—á–Ω–æ –¥–æ—Ä–æ–≥–æ", "–∫–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç",
        "–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Å–æ–≤—Å–µ–º", "—Å–ø–∞—Å–∏–±–æ –Ω–µ—Ç", "–æ—Ç–∫–∞–∂–µ–º—Å—è", "–Ω–µ –±—É–¥–µ–º"
    ],
    "followup": [
        "–ø—Ä–∏—à–ª–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é", "–æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "–æ–±—Å—É–∂—É —Å",
        "–Ω—É–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å", "–∏–∑—É—á—É", "–ø–µ—Ä–µ–∑–≤–æ–Ω—é", "—Å–≤—è–∂—É—Å—å –ø–æ–∑–∂–µ",
        "—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º", "–º–æ–∂–µ—Ç –±—ã—Ç—å"
    ]
}

# –ú–∞–ø–ø–∏–Ω–≥ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
REJECTION_PATTERNS = {
    "–í—ã—Å–æ–∫–∞—è —Ü–µ–Ω–∞": ["–¥–æ—Ä–æ–≥–æ", "—Ü–µ–Ω–∞ –≤—ã—Å–æ–∫–∞—è", "–º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥"],
    "–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏": ["–≤—Ä–µ–º–µ–Ω–∏ –Ω–µ—Ç", "–Ω–µ–∫–æ–≥–¥–∞", "–∑–∞–Ω—è—Ç"],
    "–ï—Å—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫": ["—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å", "–µ—Å—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫"],
    "–ù–µ –Ω—É–∂–Ω–∞ —É—Å–ª—É–≥–∞": ["–Ω–µ –Ω—É–∂–Ω–æ", "–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç"],
    "–ù—É–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å": ["–ø–æ–¥—É–º–∞—Ç—å", "–ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å—Å—è"],
    "–ù–µ—Ç –±—é–¥–∂–µ—Ç–∞": ["–Ω–µ—Ç –¥–µ–Ω–µ–≥", "–Ω–µ—Ç –±—é–¥–∂–µ—Ç–∞"],
    "–ü–ª–æ—Ö–∏–µ —É—Å–ª–æ–≤–∏—è": ["—É—Å–ª–æ–≤–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç", "–Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç —É—Å–ª–æ–≤–∏—è"],
    "–ù–µ–¥–æ–≤–µ—Ä–∏–µ": ["–Ω–µ –¥–æ–≤–µ—Ä—è—é", "–º–æ—à–µ–Ω–Ω–∏–∫–∏", "–æ–±–º–∞–Ω"],
    "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –ª—É—á—à–µ": ["—É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤", "–¥—Ä—É–≥–∏–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç"]
}